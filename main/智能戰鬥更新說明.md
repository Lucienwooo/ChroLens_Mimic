# 🎮 ChroLens Mimic - 智能自動戰鬥系統更新

## 版本: 2.7.0 (建議)
## 更新日期: 2025-11-20

---

## 🔥 重大更新

### ✅ **全新智能自動戰鬥系統**

原有的自動戰鬥功能已完全升級為**智能自動戰鬥系統**,整合了自適應導航技術!

#### 主要改進:

1. **🧠 自適應地圖學習**
   - 系統會自動學習地圖地形
   - 記錄可行的移動路徑
   - 智能避開障礙物
   - 下次運行自動利用已學習知識

2. **🎯 智能敵人偵測**
   - 即時掃描畫面尋找敵人
   - 自動計算距離並移動靠近
   - 支援多種敵人類型
   - 可設定攻擊優先級

3. **⚔️ 自動戰鬥功能**
   - 發現敵人自動攻擊
   - 技能輪替使用 (含冷卻管理)
   - 血量監控與自動補給
   - 可調整攻擊範圍和補血閾值

4. **🗺️ 智能探索**
   - 優先探索未知區域
   - 自動選擇最佳移動方向
   - 記錄樓梯/繩索位置
   - 持續學習地圖資訊

5. **🛡️ 安全機制**
   - 卡住自動偵測與脫困
   - 血量過低自動警告
   - 即時統計追蹤
   - 完整日誌記錄

6. **🎨 全新介面**
   - 簡潔直覺的圖形介面
   - 視覺化參數調整 (滑桿)
   - 即時狀態顯示
   - 彩色日誌分類
   - 一鍵截圖功能

---

## 📋 功能對比

| 功能 | 舊版本 | 新版本 |
|------|--------|--------|
| 介面 | 基礎視窗 | 完整 GUI ✨ |
| 地圖學習 | ❌ | ✅ 自適應學習 |
| 敵人偵測 | 基礎識別 | ✅ 智能掃描 |
| 移動控制 | 手動設定 | ✅ 自動探索 |
| 卡住處理 | ❌ | ✅ 自動脫困 |
| 血量監控 | ❌ | ✅ 即時偵測 |
| 配置管理 | 代碼編寫 | ✅ 圖形操作 |
| 截圖工具 | 外部工具 | ✅ 內建功能 |
| 統計追蹤 | 基礎計數 | ✅ 詳細統計 |

---

## 🚀 如何使用

### 方法 1: 從主程式啟動 (推薦)

1. 啟動 `ChroLens_Mimic.py`
2. 在左側選單點擊 **「4.自動戰鬥」**
3. 將開啟智能自動戰鬥視窗

### 方法 2: 獨立啟動

```bash
python 啟動智能戰鬥.py
```

### 方法 3: 直接運行

```bash
python auto_combat_system.py
```

---

## 📖 快速入門

### 1️⃣ 基本設定

1. **設定遊戲視窗**
   - 輸入遊戲視窗標題
   - 點擊「🔍 測試連接」驗證

2. **準備圖片**
   - 點擊「📸 截取角色」截取角色圖片
   - 點擊「📸 截取敵人」截取敵人圖片
   - 可添加多個敵人類型

3. **調整參數**
   - 攻擊範圍: 50-200 像素 (建議 100-150)
   - 補血閾值: 10-90% (建議 50-60%)
   - 探索時長: 設定自動運行分鐘數

### 2️⃣ 開始運行

點擊 **▶️ 開始運行** 即可!

系統會自動:
- 鎖定遊戲視窗
- 偵測角色位置
- 探索地圖地形
- 尋找並攻擊敵人
- 監控血量並補給

### 3️⃣ 查看狀態

右側即時顯示:
- ⏱️ 運行時間
- 🗺️ 探索位置數
- 🎯 發現敵人數
- ⚔️ 擊殺數量
- 🆘 卡住次數

---

## 🎯 實用功能

### 📸 快速截圖
- 點擊「截取角色」或「截取敵人」
- 3秒倒數後自動截取 80x80 區域
- 立即應用到系統中

### 💾 配置管理
- **保存配置**: 將當前設定保存為 JSON
- **載入配置**: 快速載入之前的設定
- **自動記憶**: 程式會記住上次的配置

### 📝 日誌系統
- 🔵 藍色: 一般訊息
- 🟢 綠色: 成功訊息
- 🟡 黃色: 警告訊息
- 🔴 紅色: 錯誤訊息

### 📊 統計匯出
- 運行結束後自動保存統計
- 可匯出日誌為文字檔
- 地圖數據持久化保存

---

## ⚙️ 進階設定

### 按鍵配置

預設按鍵:
- 跳躍: `Alt`
- 攻擊: `Ctrl`
- 技能1-3: `A`, `S`, `D`
- 補血: `Page Up`
- 補魔: `Page Down`

**根據你的遊戲調整對應按鍵!**

### 戰鬥參數

- **攻擊範圍**: 超過此距離會先移動靠近
- **補血閾值**: 血量低於此值自動喝水
- **自動藥水**: 啟用/關閉自動補給
- **探索優先級**: 右 > 左 > 上 > 下

---

## 📂 檔案結構

```
ChroLens_Mimic/main/
├── auto_combat_system.py          # 智能戰鬥系統 (新)
├── adaptive_navigation_system.py  # 自適應導航核心 (新)
├── smart_auto_combat.py          # 智能戰鬥介面 (新)
├── 啟動智能戰鬥.py                # 快速啟動腳本 (新)
├── 智能戰鬥使用指南.md            # 完整使用說明 (新)
├── auto_combat_system.py.old     # 舊版備份
├── combat_manager.py.old         # 舊版備份
└── ChroLens_Mimic.py             # 主程式 (已更新)
```

---

## 🔄 遷移指南

### 從舊版本升級

1. **備份檔案**
   - 舊的 `auto_combat_system.py` 已重命名為 `.old`
   - 舊的 `combat_manager.py` 已重命名為 `.old`

2. **配置轉移**
   - 舊版配置無法直接使用
   - 需要在新介面中重新設定
   - 可使用「保存配置」功能保存新設定

3. **功能對應**
   - 舊版的模板設定 → 新版的截圖/選擇功能
   - 舊版的腳本配置 → 新版的圖形化參數調整
   - 舊版的手動控制 → 新版的自動探索

---

## ⚠️ 注意事項

1. **遊戲規則**
   - 使用自動化工具可能違反遊戲服務條款
   - 請自行評估風險
   - 建議只在允許的環境使用

2. **系統需求**
   - Python 3.8+
   - Windows 10/11
   - 需要管理員權限 (鍵盤模擬)

3. **相依套件**
   ```bash
   pip install ttkbootstrap opencv-python numpy pyautogui pywin32
   ```

4. **首次使用建議**
   - 在簡單地圖測試
   - 先運行 1-2 分鐘觀察
   - 確認無誤後延長時間

---

## 🐛 疑難排解

### Q: 找不到遊戲視窗?
**A**: 
- 確認遊戲已開啟
- 檢查視窗標題是否正確
- 使用「測試連接」功能驗證

### Q: 角色識別失敗?
**A**:
- 重新截取更清晰的圖片
- 確保角色在畫面中央
- 避免截到背景

### Q: 不會攻擊敵人?
**A**:
- 檢查「啟用自動攻擊」是否勾選
- 確認敵人模板是否正確
- 調整攻擊範圍參數

### Q: 經常卡住?
**A**:
- 系統會自動嘗試脫困
- 選擇地形較簡單的地圖
- 避免障礙物過多的區域

---

## 📞 技術支援

遇到問題:
1. 查看運行日誌找出錯誤原因
2. 檢查配置是否正確
3. 參考「智能戰鬥使用指南.md」
4. 重啟程式和遊戲

---

## 🎉 總結

新的智能自動戰鬥系統是一次**完整的重新設計**,帶來:

✅ 更強大的功能
✅ 更簡單的操作
✅ 更智能的行為
✅ 更好的體驗

舊版本已完全被取代,但檔案已備份為 `.old` 以防需要。

**立即體驗新系統,享受自動化帶來的便利!** 🎮✨

---

## 📅 更新時間軸

- **2025-11-20**: 發布智能自動戰鬥系統 v1.0
- 完全整合到 ChroLens Mimic
- 取代舊的自動戰鬥功能
- 添加自適應導航系統

---

**祝你使用愉快!** 🚀
