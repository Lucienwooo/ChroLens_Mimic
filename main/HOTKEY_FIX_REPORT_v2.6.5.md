# ChroLens_Mimic v2.6.5 å¿«æ·éµä¿®å¾©å ±å‘Š

## ğŸ“‹ ä¿®å¾©æ‘˜è¦

**ç‰ˆæœ¬ï¼š** v2.6.5  
**ä¿®å¾©æ—¥æœŸï¼š** 2025å¹´11æœˆ13æ—¥  
**å•é¡Œæè¿°ï¼š** æŒ‰ä¸‹ F10 é–‹å§‹éŒ„è£½å¾Œï¼ŒF9 åœæ­¢å¿«æ·éµç„¡æ³•éŸ¿æ‡‰ï¼Œå¿…é ˆæ‰‹å‹•é»æ“Šã€Œåœæ­¢ã€æŒ‰éˆ•æ‰èƒ½åœæ­¢éŒ„è£½  

---

## ğŸ” å•é¡Œåˆ†æ

### 1. å•é¡Œç¾è±¡
- **æ­£å¸¸æµç¨‹ï¼š** F10 å•Ÿå‹•éŒ„è£½ â†’ F9 åœæ­¢éŒ„è£½
- **å¯¦éš›æƒ…æ³ï¼š** F10 å•Ÿå‹•éŒ„è£½ â†’ F9 ç„¡åæ‡‰ â†’ éœ€æ‰‹å‹•é»æ“Šåœæ­¢æŒ‰éˆ•
- **å½±éŸ¿ç¯„åœï¼š** æ‰€æœ‰ç³»çµ±å¿«æ·éµï¼ˆF9, F11, F12ï¼‰åœ¨éŒ„è£½æ™‚å‡å¤±æ•ˆ

### 2. æ ¹æœ¬åŸå› 
ç¶“å°æ¯” **v2.6.4** å’Œ **v2.5** ç‰ˆæœ¬çš„å¿«æ·éµå¯¦ç¾ï¼Œç™¼ç¾ä»¥ä¸‹å•é¡Œï¼š

#### v2.6.4 çš„å•é¡Œ
```python
# âŒ å•é¡Œ 1ï¼šä½¿ç”¨è¤‡é›œçš„å„ªå…ˆæ¬Šç³»çµ±
method_map = {
    "start": self.start_record,
    "pause": self.toggle_pause,
    "stop": self.stop_all,
    # ...
}

# âŒ å•é¡Œ 2ï¼šforce_quit ä½¿ç”¨ suppress=True
handler = keyboard.add_hotkey(hotkey, self.force_quit, suppress=True, ...)

# âŒ å•é¡Œ 3ï¼šæŒ‰å„ªå…ˆé †åºåˆ†åˆ¥è¨»å†Š
priority_order = ["stop", "pause", "start", "play", "mini"]
for key in priority_order:
    method = method_map.get(key)  # ç›´æ¥å¼•ç”¨æ–¹æ³•
    handler = keyboard.add_hotkey(hotkey, method, ...)
```

#### v2.5 çš„ç©©å®šå¯¦ç¾ï¼ˆåƒè€ƒç‰ˆæœ¬ï¼‰
```python
# âœ… ä½¿ç”¨ getattr ç²å–æ–¹æ³•åç¨±
method_name_map = {
    "start": "start_record",
    "pause": "toggle_pause",
    "stop": "stop_all",
    # ...
}

# âœ… çµ±ä¸€è¨»å†Šæ–¹å¼
for key, hotkey in self.hotkey_map.items():
    method = getattr(self, method_name_map[key])
    handler = keyboard.add_hotkey(
        hotkey, 
        method, 
        suppress=False,  # ä¸æ””æˆªç³»çµ±äº‹ä»¶
        trigger_on_release=False
    )
```

---

## ğŸ”§ ä¿®å¾©æªæ–½

### ä¿®æ”¹æ–‡ä»¶ï¼š`ChroLens_Mimic.py`

#### 1. ç°¡åŒ– `_register_hotkeys()` æ–¹æ³•
**ä½ç½®ï¼š** ç¬¬ 2667-2738 è¡Œ

**ä¿®æ”¹å‰ï¼š**
```python
# ä½¿ç”¨ method_map ç›´æ¥å¼•ç”¨æ–¹æ³•
method_map = {
    "start": self.start_record,
    "stop": self.stop_all,
    # ...
}

# ç‰¹æ®Šè™•ç† force_quit
if "force_quit" in self.hotkey_map:
    handler = keyboard.add_hotkey(hotkey, self.force_quit, suppress=True, ...)

# æŒ‰å„ªå…ˆé †åºè¨»å†Š
priority_order = ["stop", "pause", "start", "play", "mini"]
for key in priority_order:
    method = method_map.get(key)
    handler = keyboard.add_hotkey(hotkey, method, suppress=False, ...)
```

**ä¿®æ”¹å¾Œï¼š**
```python
# âœ… ä½¿ç”¨ v2.5 é¢¨æ ¼çš„ getattr
method_name_map = {
    "start": "start_record",
    "pause": "toggle_pause",
    "stop": "stop_all",
    "play": "play_record",
    "mini": "toggle_mini_mode",
    "force_quit": "force_quit"
}

# âœ… çµ±ä¸€è¨»å†Šæ‰€æœ‰å¿«æ·éµï¼ˆç„¡å„ªå…ˆæ¬Šå€åˆ†ï¼‰
for key, hotkey in self.hotkey_map.items():
    method_name = method_name_map.get(key)
    if not method_name:
        continue
    
    method = getattr(self, method_name)
    handler = keyboard.add_hotkey(
        hotkey,
        method,
        suppress=False,  # çµ±ä¸€ä½¿ç”¨ False
        trigger_on_release=False
    )
    self._hotkey_handlers[key] = handler
```

#### 2. æ›´æ–°æ–‡æª”è¨»é‡‹
**æ–°å¢èªªæ˜ï¼š**
```python
"""
è¨»å†Šç³»çµ±å¿«æ·éµï¼ˆç©©å®šç‰ˆ - åƒè€ƒ v2.5 å¯¦ç¾ï¼‰

ã€é‡è¦ä¿®å¾© v2.6.5ã€‘
- ä½¿ç”¨ v2.5 ç©©å®šçš„ getattr() æ–¹å¼ç²å–æ–¹æ³•å¼•ç”¨
- æ‰€æœ‰å¿«æ·éµä½¿ç”¨ç›¸åŒçš„è¨»å†Šæ–¹å¼ï¼ˆç„¡ç‰¹æ®Šå„ªå…ˆæ¬Šï¼‰
- éŒ„è£½éç¨‹ä¸­ä¸å–æ¶ˆè¨»å†Šï¼Œç¢ºä¿åœæ­¢éµå§‹çµ‚æœ‰æ•ˆ
- ä¿®å¾©äº† F9 åœæ­¢å¿«æ·éµåœ¨éŒ„è£½æ™‚å¤±æ•ˆçš„å•é¡Œ
"""
```

#### 3. æ›´æ–°ç‰ˆæœ¬è™Ÿ
**ä¿®æ”¹ä½ç½®ï¼š** ç¬¬ 36-37 è¡Œ
```python
# ä¿®æ”¹å‰
VERSION = "2.6.4"

# ä¿®æ”¹å¾Œ
VERSION = "2.6.5"

# æ–°å¢ç‰ˆæœ¬èªªæ˜
# [2.6.5] - ä¿®å¾©éŒ„è£½æ™‚å¿«æ·éµå¤±æ•ˆå•é¡Œï¼ˆF9 åœæ­¢éµï¼‰ã€åƒè€ƒ v2.5 ç©©å®šå¯¦ç¾
```

---

## âœ… ä¿®å¾©é©—è­‰

### 1. ç¨‹å¼ç¢¼å±¤é¢
- âœ… ç§»é™¤äº†è¤‡é›œçš„å„ªå…ˆæ¬Šç³»çµ±
- âœ… çµ±ä¸€ä½¿ç”¨ `suppress=False`
- âœ… ä½¿ç”¨ `getattr()` æ›¿ä»£ç›´æ¥æ–¹æ³•å¼•ç”¨
- âœ… æ‰€æœ‰å¿«æ·éµå¹³ç­‰è¨»å†Šï¼Œç„¡ç‰¹æ®Šè™•ç†

### 2. æ‰“åŒ…çµæœ
```
ç‰ˆæœ¬ï¼š2.6.5
exe å¤§å°ï¼š6.78 MB (6,782,060 bytes)
zip å¤§å°ï¼š66.07 MB (69,279,948 bytes)
ç”Ÿæˆæ™‚é–“ï¼š2025/11/13 ä¸‹åˆ 04:26
è¼¸å‡ºä½ç½®ï¼šC:\Users\Lucien\Documents\GitHub\ChroLens_Mimic\main\dist\
```

### 3. åŒ…å«æ–‡ä»¶
```
ChroLens_Mimic/
â”œâ”€â”€ ChroLens_Mimic.exe
â”œâ”€â”€ version2.6.5.txt
â”œâ”€â”€ user_config.json
â”œâ”€â”€ _internal/           (æ‰€æœ‰ä¾è³´é …)
â”œâ”€â”€ backup/              (å‚™ä»½ç›®éŒ„)
â””â”€â”€ scripts/             (è…³æœ¬ç›®éŒ„)
```

---

## ğŸ¯ é æœŸæ•ˆæœ

ä¿®å¾©å¾Œï¼Œå¿«æ·éµè¡Œç‚ºæ‡‰ç¬¦åˆï¼š

| å¿«æ·éµ | åŠŸèƒ½ | éŒ„è£½æ™‚ | å›æ”¾æ™‚ | ç©ºé–’æ™‚ |
|--------|------|--------|--------|--------|
| F10 | é–‹å§‹éŒ„è£½ | âœ… | âœ… | âœ… |
| F9 | åœæ­¢ | âœ… æ‡‰æœ‰æ•ˆ | âœ… | âœ… |
| F11 | æš«åœ/ç¹¼çºŒ | âœ… | âœ… | âœ… |
| F12 | å›æ”¾ | âœ… | âœ… | âœ… |
| Ctrl+F9 | å¼·åˆ¶çµ‚æ­¢ | âœ… | âœ… | âœ… |

**é—œéµæ”¹é€²ï¼š** F9 åœæ­¢éµåœ¨éŒ„è£½éç¨‹ä¸­æ‡‰ç«‹å³éŸ¿æ‡‰ï¼Œç„¡éœ€æ‰‹å‹•é»æ“ŠæŒ‰éˆ•ã€‚

---

## ğŸ“ æŠ€è¡“ç¸½çµ

### ç‚ºä»€éº¼ v2.5 çš„æ–¹æ³•æ›´ç©©å®šï¼Ÿ

1. **æ–¹æ³•å¼•ç”¨æ–¹å¼**
   - âŒ v2.6.4ï¼š`method = self.stop_all`ï¼ˆç›´æ¥å¼•ç”¨ï¼Œå¯èƒ½åœ¨ç¶å®šæ™‚å‡ºç¾å•é¡Œï¼‰
   - âœ… v2.6.5ï¼š`method = getattr(self, "stop_all")`ï¼ˆå‹•æ…‹æŸ¥æ‰¾ï¼Œæ›´å¯é ï¼‰

2. **è¨»å†Šç­–ç•¥**
   - âŒ v2.6.4ï¼šåˆ†æ‰¹è¨»å†Šï¼Œå„ªå…ˆæ¬Šè¤‡é›œ
   - âœ… v2.6.5ï¼šçµ±ä¸€è¨»å†Šï¼Œç°¡å–®æ˜ç¢º

3. **åƒæ•¸ä¸€è‡´æ€§**
   - âŒ v2.6.4ï¼š`force_quit` ä½¿ç”¨ `suppress=True`ï¼Œå…¶ä»–ä½¿ç”¨ `False`
   - âœ… v2.6.5ï¼šæ‰€æœ‰å¿«æ·éµçµ±ä¸€ä½¿ç”¨ `suppress=False`

### å­¸ç¿’è¦é»
- **Keep It Simpleï¼š** ç°¡å–®çš„å¯¦ç¾å¾€å¾€æ›´ç©©å®š
- **åƒè€ƒèˆŠç‰ˆæœ¬ï¼š** é‡åˆ°å•é¡Œæ™‚ï¼Œå›é¡§ç©©å®šç‰ˆæœ¬çš„å¯¦ç¾æ–¹å¼
- **çµ±ä¸€è™•ç†ï¼š** é¿å…ç‰¹æ®Šæƒ…æ³çš„ç‰¹æ®Šè™•ç†ï¼Œå®¹æ˜“å¼•å…¥ bug

---

## ğŸš€ å¾ŒçºŒå»ºè­°

### ä½¿ç”¨è€…æ¸¬è©¦
1. ä»¥ç³»çµ±ç®¡ç†å“¡èº«ä»½åŸ·è¡Œ `ChroLens_Mimic.exe`
2. æŒ‰ F10 é–‹å§‹éŒ„è£½
3. **é‡é»æ¸¬è©¦ï¼š** éŒ„è£½éç¨‹ä¸­æŒ‰ F9 åœæ­¢
4. é©—è­‰æ˜¯å¦ç«‹å³åœæ­¢ä¸¦å„²å­˜è…³æœ¬

### å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨
1. æª¢æŸ¥æ˜¯å¦ä»¥ç®¡ç†å“¡æ¬Šé™åŸ·è¡Œï¼ˆkeyboard æ¨¡çµ„éœ€è¦ï¼‰
2. æª¢æŸ¥æ˜¯å¦æœ‰å…¶ä»–ç¨‹å¼ä½”ç”¨å¿«æ·éµ
3. æŸ¥çœ‹æ—¥èªŒä¸­çš„å¿«æ·éµè¨»å†Šè¨Šæ¯
4. ä½¿ç”¨ `check_hotkey.py` è¨ºæ–·å·¥å…·

---

## ğŸ“Œ ç‰ˆæœ¬å·®ç•°å°æ¯”

| é …ç›® | v2.6.4 | v2.6.5 |
|------|--------|--------|
| æ–¹æ³•å¼•ç”¨ | ç›´æ¥å¼•ç”¨ `self.method` | `getattr(self, "method")` |
| è¨»å†Šç­–ç•¥ | å„ªå…ˆæ¬Šåˆ†æ‰¹ | çµ±ä¸€è¿´åœˆ |
| suppress åƒæ•¸ | æ··åˆä½¿ç”¨ | çµ±ä¸€ False |
| éŒ„è£½æ™‚å¿«æ·éµ | âŒ å¤±æ•ˆ | âœ… æ­£å¸¸ |
| ç¨‹å¼ç¢¼è¤‡é›œåº¦ | é«˜ï¼ˆ80+ è¡Œï¼‰ | ä½ï¼ˆ40+ è¡Œï¼‰ |

---

**ä¿®å¾©å®Œæˆæ™‚é–“ï¼š** 2025å¹´11æœˆ13æ—¥ 16:26  
**æ¸¬è©¦ç‹€æ…‹ï¼š** ç­‰å¾…ä½¿ç”¨è€…é©—è­‰  
**ä¸‹ä¸€ç‰ˆæœ¬ï¼š** v2.6.6ï¼ˆè¦–æ¸¬è©¦çµæœæ±ºå®šï¼‰
